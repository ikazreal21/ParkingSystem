{% extends 'park/base.html' %} {% load static %} {% block content %}
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Parking Summary</h2>
    <div class="btn-group">
      <a
        href="?period=daily"
        class="btn btn-outline-primary {% if period == 'daily' %}active{% endif %}"
        >Daily</a
      >
      <a
        href="?period=weekly"
        class="btn btn-outline-primary {% if period == 'weekly' %}active{% endif %}"
        >Weekly</a
      >
      <a
        href="?period=monthly"
        class="btn btn-outline-primary {% if period == 'monthly' %}active{% endif %}"
        >Monthly</a
      >
      <a
        href="?period=yearly"
        class="btn btn-outline-primary {% if period == 'yearly' %}active{% endif %}"
        >Yearly</a
      >
    </div>
  </div>

  <div class="card mb-4">
    <div class="card-body">
      <h5 class="card-title">
        Period: {{ start_date|date:"M d, Y" }} to {{ end_date|date:"M d, Y" }}
      </h5>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3 mb-4">
      <div class="card bg-primary text-white">
        <div class="card-body">
          <h5 class="card-title">Total Spots</h5>
          <h2 class="card-text">{{ summary.total_spots }}</h2>
        </div>
      </div>
    </div>

    <div class="col-md-3 mb-4">
      <div class="card bg-success text-white">
        <div class="card-body">
          <h5 class="card-title">Total Occupancy</h5>
          <h2 class="card-text">{{ summary.total_occupancy }}</h2>
        </div>
      </div>
    </div>

    <div class="col-md-3 mb-4">
      <div class="card bg-info text-white">
        <div class="card-body">
          <h5 class="card-title">Total Reservations</h5>
          <h2 class="card-text">{{ summary.total_reservations }}</h2>
        </div>
      </div>
    </div>

    <div class="col-md-3 mb-4">
      <div class="card bg-warning text-white">
        <div class="card-body">
          <h5 class="card-title">Total Revenue</h5>
          <h2 class="card-text">₱{{ summary.total_revenue|floatformat:2 }}</h2>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Exceeded Hours</h5>
          <h3 class="card-text">
            {{ summary.total_exceeded_hours|floatformat:1 }} hours
          </h3>
        </div>
      </div>
    </div>

    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Average Daily Revenue</h5>
          <h3 class="card-text">
            ₱{{
            summary.total_revenue|divisibleby:summary.total_occupancy|floatformat:2
            }}
          </h3>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
